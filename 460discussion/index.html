<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>EECS 460 Discussion</title>

    <meta name="description" content="EECS 460 Discussion">
    <meta name="author" content="Jonas Kersulis">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="../css/reveal.css">
    <link rel="stylesheet" href="../css/theme/white.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="../lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? '../css/print/pdf.css' : '../css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <!-- slides-title -->
        <section>
          <section>
            <h1>EECS 460 Discussion</h1>
            <p>Winter 2017</p>
          </section>
          <section>
            <h1>Introduction</h1>
            <h2>Jonas Kersulis, GSI</h2>
            <em>kersulis@umich.edu</em>
            <div>
              <ul>
                <li>PhD student of Dr. Ian Hiskens</li>
                <li>Power and Energy major</li>
                <li>Controls minor</li>
              </ul>
            </div>
          </section>
          <section>
            <h1>Meta</h1>
            <h2>Office hours in EECS 2420</h2>
            <ul>
              <li>Tuesday 3-4 PM (day before hw due, hour before discussion)</li>
              <li>Friday 1-2 PM (4th day covered)</li>
            </ul>
          </section>
          <section>
            <h2>Discussion format</h2>
            <ol>
              <li>Review and motivation</li>
              <li>Problems to illustrate major concepts (similar to hw problems)</li>
              <li>Your hw problem questions</li>
            </ol>
            <div class="fragment">
              <p>At times I will encourage you to solve problems in groups.</p>
            </div>
            <div class="fragment">
              <p>Requests welcome, e.g. if you're studying for the midterm and something isn't making sense, let me know and I'll make time for it.</p>
            </div>
            <p class="fragment"> I will post discussion notes after Monday's discussion. (No need to copy slides during discussion.)</p>
          </section>
        </section>

        <!-- slides-week1 -->
          <section>
            <section>
            <h1>Week 1 | 2017-01-09/10</h1>
            <div>
              <ul>
                <li>Control system representations</li>
                <li>Laplace transform</li>
                <li>Partial fractions</li>
              </ul>
            </section>
            <section>
            <h2>Motivation</h2>
              <ul>
                <li>Describe systems using mathematics</li>
                <li>Work in frequency domain:</li>
                <ul>
                  <li>Common operations become easier</li>
                  <li>Closer to intuitive block form</li>
                  <li>Transfer function: input/output relationship is <em>algebraic</em></li>
                </ul>
              </ul>
            <div class="fragment">
              <p><strong>Laplace transform</strong>: tool for going from time domain to frequency domain</p>
              $\mathcal{L}\{f(t)\} = F(s) = \int_{0^-}^\infty f(t)e^{-st}dt$
            </div>
            <div class="fragment">
              <p>Ex. if $f(t) = e^{-at}u_s(t)$, $F(s) = \frac{1}{s+a}$</p>
            </div>
            </section>
            <section>
              <table>
                <tr>
                  <th>Step</th>
                  <th>Tool</th>
                </tr>
                <tr>
                  <td>1. Express system using diff. eq.</td>
                  <td>Physics</td>
                </tr>
                <tr>
                  <td>2. Take $\mathcal{L}\{\cdot\}$</td>
                  <td>Transform table</td>
                </tr>
                <tr>
                  <td>3. Analyze</td>
                  <td>Algebra</td>
                </tr>
                <tr>
                  <td>4. Take $\mathcal{L}^{-1}\{\cdot\}$ to obtain time signal</td>
                  <td>Partial fractions, transform table</td>
                </tr>
              </table>
          </section>
          <section>
            <h2>Problems</h2>
            <ol>
              <li class="fragment">Given $F(s) = \frac{2}{(s+1)(s+2)}$, find $f(t)$.
              </li>
              <li class="fragment">Given $F(s) = \frac{1}{s^2 + 6s + 9}$, what is $f(t)$?
              </li>
              <li class="fragment">Given a system with input $u(t)$, output $y(t)$, and dynamics given by $$\frac{d^3y(t)}{dt} + 12\frac{d^2y(t)}{dt} + 32\frac{dy(t)}{dt} = 32u(t),$$ <p>a. Find the transfer function.</p><p>b. Solve for the output $y(t)$ given the input $u(t) = u_s(t)$.</p><p>Assume zero initial conditions.</p>
            </ol>
          </section>
        </section>

        <section>
            <section>
            <h1>Week 2 | 2017-01-17</h1>
            <div>
              <ul>
                <li>Control system representations for more complicated systems</li>
                <li>State-space <--> transfer function</li>
                <li>Block diagram reduction</li>
              </ul>
            </section>
          <section>
            <h2>Motivation</h2>
            <ul>
              <li>Often we have several states and multiple inputs or outputs.</li>
              <li>We also frequently encounter complex systems best expressed with block diagrams.</li>
            </ul>
            <p>We still want to be able to find transfer functions.</p>
            <p>Tools:</p>
            <ul>
              <li>State-space representation</li>
              <li>Block diagram reduction</li>
            </ul>
          </section>
          <section>
            <h2>From lecture</h2>
            <img src="images/lti_rep.png" width=800px>
        </section>
        <section>
          <h2>From lecture</h2>
          <img src="images/block_reduction.png" width=700px>
        </section>
          <section>
            <h2>Problem 1</h2>
              <p>Part A: find a state-space representation of the transfer function:</p>
                    <img src="images/d2tx.png" width=500px" style="border:none">
                  <p>Part B: find a state-space representation of the transfer function:</p>
                    <img src="images/d2tx2.png" width=500x" style="border:none">
          </section>
          <section>
            <h2>Problem 2</h2>
            <p>Go the other way: find the transfer function for the following state-space representation.</p>$$
\begin{align}
\begin{bmatrix}
\dot{x}_1 \\ \dot{x}_2 \\ \dot{x}_3
\end{bmatrix} &= \begin{bmatrix}
0 & 1 & 0 \\ 0 & 0 & 1 \\ -a_3 & -a_2 & -a_1
\end{bmatrix}\begin{bmatrix}
x_1 \\x_2 \\x_3
\end{bmatrix} + \begin{bmatrix}
0 \\ 0 \\ 1
\end{bmatrix}u \\
y &= \begin{bmatrix}
b_2 & b_1 & b_0
\end{bmatrix}\begin{bmatrix}
x_1 \\ x_2 \\ x_3
\end{bmatrix}
\end{align}
$$
          </section>
          <section>
            <h2>Problem 3</h2>
            <p>Reduce the block diagram and write its transfer function.</p>
            <img src="images/d2p3.png">
          </section>
        </section>

        <section>
            <section>
            <h1>Week 3 | 2017-01-23</h1>
            <div>
              <ul>
                <li>Signal flow graphs and Mason's gain formula</li>
                <li>Compare to block diagram reduction for finding transfer functions</li>
                <li>Linearization</li>
              </ul>
            </section>
          <section>
            <h2>Motivation</h2>
              <strong>Signal flow and Mason's gain formula</strong>
            <ul>
              <li>Block diagram reduction is messy, and when we want multiple transfer functions, we must reduce multiple times. Gross.</li>
              <li>A signal flow diagram encodes the same system information.</li>
              <li>Mason's gain formula allows us to read off reusable values and combine them to find multiple transfer functions efficiently. No more system rewriting!</li>
            </ul>
          </section>
          <section>
            <strong>Linearization</strong>
            <p>Linearization allows us to apply our powerful linear analysis tools to nonlinear systems locally. This is often enough to classify stability of equilibria, and even to design controllers.</p>
          </section>
          <section>
            <h2>Problem 1</h2>
              <p>Find the transfer function $\frac{E(s)}{U(s)}$.</p>
                    <img src="images/d3/p1.png" width=800px" style="border:none">
          </section>
          <section>
            <h2>Problem 2</h2>
            <h3>Part A</h3> 
            <p>Use block diagram reduction to find the transfer function $\frac{Y(s)}{U(s)}$.</p>
            <img src="images/d3/p2.png" width=800px style="border:none">
          </section>
          <section> <p>Step 1</p><img src="images/d3/p2s1.png" width=800px style="border:none"></section>
            <section><p>Step 2</p><img src="images/d3/p2s2.png" width=800px style="border:none"></section>
            <section><p>Step 3</p><img src="images/d3/p2s3.png" width=800px style="border:none"></section>
            <section><p>Step 4</p><img src="images/d3/p2s4.png" width=800px style="border:none"></section>
            <section><p>Step 5</p><img src="images/d3/p2s5.png" width=800px style="border:none"></section>
            <section><p>Step 6</p><img src="images/d3/p2s6.png" width=800px style="border:none"></section>
            <section>
              <h3>Part B</h3>
              Find the same transfer function using Mason's gain formula.
            </section>
            <section><img src="images/d3/p2b.png" width=800px style="border:none"></section>
          <section>
            <h2>Problem 3</h2>
            <p>Consider the following nonlinear circuit:</p>
            <img src="images/d3/p3.png" width=600px style="border:none; float:right">
            <p>Voltage across the nonlinear resistor is related to current as follows:
\begin{align*}
i(t) &= 2e^{0.1V_R(t)}.
\end{align*} Find the differential equation modeling the circuit, then linearize any nonlinear terms. Assume a nominal input of $V_N(t) = 0$.</p>
          </section>
        </section>

        <section>
            <section>
            <h1>Week 4 | 2017-01-30/31</h1>
            <div>
              <ul>
                <li>BIBO stability</li>
                <li>Linearization</li>
                <li>Steady-state error</li>
              </ul>
            </section>
          <section>
            <h2>Motivation</h2>
            <ul>
              <li>Stability is a key feature of control systems</li>
            <ul>
              <li>Assess in frequency domain -- no need to try various inputs or simulate time domain behavior</li>
            </ul>
            <li>Another linearization example to drive home the process. Make sure you're comfortable with linearization.</li>
            <li>Steady-state error: how well will our control systems track various inputs?</li>
            </ul>
          </section>
          <section>
            <h2>Problem 1</h2>
             Determine stability of the following closed-loop systems. If given, $M(s)$ is the closed-loop transfer function.

             <h2>Part A</h3>
            $$M(s) = \frac{3}{s(s+1)(s+2)}$$
          </section>
          <section>
             <h2>Part B</h3>
             <img src="images/d4p1d.png" width=500px, style="border:none">
             <p>where $G_1(s) = \frac{7}{2s+1}$.</p>
          </section>
          <section>
             <h2>Part C</h3>
             <img src="images/d4p1e.png" width=500px, style="border:none">
              where $G_2(s) = \frac{7K}{2s+1}$ (answer should be in terms of $K$).
          </section>

          <section>
            <h2>Problem 2</h2>
Consider the system modeled by the following differential equation:
\begin{align*}
\frac{d^2\theta}{dt^2} + K\frac{d\theta}{dt} + \cos \theta &= u(t)
\end{align*}
The applied input is $u(t)$, the output is $\theta$, and we are interested in changes around the nominal input value $u_N = 0$.

<h3>Part A</h3>
<p>Linearize the system to obtain a small-signal state-space model.</p>
          </section>
          <section>
            <h3>Part B</h3>
            <p>Find the transfer function of the linearized state-space model.</p>
          </section>
          <section>
            <h3>Part C</h3>
            <p>Comment on the stability of $G(s)$ from Part B.</p>
          </section>
          <section>
            <h3>Part D</h3>
            <p>Now comment on the stability of the closed-loop system below, where $G(s)$ is the transfer function computed in Part B.</p>

             <img src="images/d4p2.png" width=500px, style="border:none">
          </section>

          <section>
            <h2>Problem 3</h2>
            <p>Consider a unity-feedback system with forward path transfer function $G(s) = \frac{1}{s(s+2)}$ Find the steady-state error for step, ramp, and parabolic inputs.</p>
        </section>
        </section>

        <section>
          <section>
            <h1>Week 5 | 2017-02-06/07</h1>
            <div>
              <p>Second-order systems (GK section 5-6)</p>
              <ul>
                <li>Prediction of qualitative responses</li>
                <li>Designing to meet specs</li>
              </ul>
              <ul class="fragment">
                <li>Previously looked at steady-state response ($t\to\infty$).</li>
                <li>Now looking at transient response ($t$ near 0).</li>
              </ul>
            </section>
            <section>
              <img src="images/time.jpg" style="border:none">
            </section>
            <section>
              <h2 style="float:left">Second-order system</h2>
              <img src="images/second-order.jpg" width=400px style="padding:none; border: none; float: right">
              <p style="float:left">
              \begin{align}
              \frac{Y(s)}{R(s)} &= \frac{\omega_n^2}{s^2 + 2\zeta\omega_ns + \omega_n^2}
              \end{align}</p>
              <p class="fragment" style="float:left">Step response:
              $$ y(t) = 1 - \frac{e^{-\zeta\omega_nt}}{\sqrt{1 - \zeta^2}}\sin\left(\omega_n\sqrt{1-\zeta^2}t + \arccos\zeta\right),~t\geq 0 $$
              </p>
              <p class="fragment" style="float:left">Poles:
              \begin{align}
              s_1,s_2 &= -\zeta\omega_n\pm j\omega_n\sqrt{1 - \zeta^2} = -\alpha \pm j\omega
              \end{align}</p>
              <div style="clear:both"></div>
            </section>
            <section>
              <p>Poles:
              \begin{align}
              s_1,s_2 &= -\alpha \pm j\omega \\
              \alpha &= \zeta\omega_n \\
              \omega &= \omega_n\sqrt{1-\zeta^2}
              \end{align}
              </p>
              <ul>
                <li>$\alpha$ is the <i>damping factor</i></li>
                <li>$\zeta$ is the <i>damping ratio</i></li>
                <li>$\omega_n$ is the <i>undamped natural frequency</i></li>
                <li>$\omega$ is the <i>damped frequency</i></li>
              </ul>
              </section>
              <section>
                <img src="images/sensitivity.jpg" width=700px style="border:none">
              </section>
              <section>
                <h2>Overshoot and peak time</h2>
                <p>From GK Section 5-6-3, percent maximum overshoot is
                $$ 100e^{-\pi\zeta/\sqrt{1-\zeta^2}} $$
              </p>
              <p>Peak time is
                $$ t_\text{max} = \frac{\pi}{\omega_n\sqrt{1-\zeta^2}} $$
              </p>
              </section>
              <section>
                <h2>Addition of poles and zeros</h2>
                <p>Read GK Section 5-9! Also good to play with systems in MATLAB.</p>
              </section>
              <section>
                <h1>Problems</h1>
                <h2>Problem 1</h2>
                <p>Consider the following mechanical system:</p>
                <img src="images/d5p1.png" width=600px style="border:none">
                <p>where $x(t)$ is displacement (and also output), $f(t)$ is the applied input with nominal $f_N = 10N$, and the nonlinear spring applies a force $f_s(t) = 2x_s^2(t)$.</p>
              </section>
              <section>
                <h3>Part A</h3>
Find the linearized state-space representation of the system. Assume that you are concerned with small changes around the equilibrium point.
<div class="fragment">
                <h3>Part B</h3>
Find $\bar{G}(s) = \frac{\Delta Y(s)}{\Delta U(s)}$, the transfer function of the linearized system.
</div>
<div class="fragment">
                <h3>Part C</h3>
Comment on the stability of the linearized system.
</div>
<div class="fragment">
                <h3>Part D</h3>
Qualitatively predict the step response of this system.
</div>
              </section>
              <section>
                <h3>Part E</h3>
Now suppose we have a design requirement: overshoot of the step response cannot exceed 5\%. Determine values of $D$ that satisfy this requirement (if any).
<div class="fragment">
                <h3>Part F</h3>
While satisfying the constraint in part (e), is it possible to also achieve a peak time $T_p \leq 2$ seconds? If so, find the values of $D$ that meet both requirements.
</div>
<div class="fragment">
                <h3>Part G</h3>
Given these constraints, what type of step response will we see? Revise your predicted qualitative step response.
</div>
              </section>

              <section>
                <h2>Problem 2</h2>
Suppose $D = 4.2$ in the Problem 1 system, and the transfer function is
$$ \bar{G} = \frac{\Delta Y(s)}{\Delta U(s)} = \frac{1}{s^2 + Ds + 4\sqrt{5}} $$
(the constant gain is gone now).
<h3>Part A</h3>
Suppose a zero is added at $s=-\frac{1}{a}$, so the transfer function becomes $\bar{G}(1+as)$. Qualitatively describe the change in step response we should see. Validate this using MATLAB.
              </section>
              <section>
<h3>Part B</h3>
Suppose instead a pole is added at $s=-1/\tau$, so the transfer function becomes $\frac{\bar{G}(s)}{\tau s + 1}$. Again describe the change in step response you expect, and verify with MATLAB.
          </section>
      </div>
    </div>

    <script src="../lib/js/head.min.js"></script>
    <script src="../js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: false,
        slideNumber: true,
        progress: true,
        history: true,
        center: false,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        math: {
          mathjax: 'https://cdn.mathjax.org/mathjax/latest/MathJax.js',
          config: 'TeX-AMS_HTML-full'
        },

        // Optional reveal.js plugins
        dependencies: [
          { src: '../lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: '../plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '../plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '../plugin/math/math.js', async: true },
          { src: '../plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          //{ src: '../plugin/zoom-js/zoom.js', async: true },
          //{ src: '../plugin/notes/notes.js', async: true }
        ]
      });

    </script>

  </body>
</html>
