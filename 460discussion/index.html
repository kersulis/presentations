<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>EECS 460 Discussion</title>

    <meta name="description" content="EECS 460 Discussion">
    <meta name="author" content="Jonas Kersulis">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="../css/reveal.css">
    <link rel="stylesheet" href="../css/theme/white.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="../lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? '../css/print/pdf.css' : '../css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <!-- slides-title -->
        <section>
          <section>
            <h1>EECS 460 Discussion</h1>
            <p>Winter 2017</p>
          </section>
          <section>
            <h1>Introduction</h1>
            <h2>Jonas Kersulis, GSI</h2>
            <em>kersulis@umich.edu</em>
            <div>
              <ul>
                <li>PhD student of Dr. Ian Hiskens</li>
                <li>Power and Energy major</li>
                <li>Controls minor</li>
              </ul>
            </div>
          </section>
          <section>
            <h1>Meta</h1>
            <h2>Office hours in EECS 2420</h2>
            <ul>
              <li>Tuesday 3-4 PM (day before hw due, hour before discussion)</li>
              <li>Friday 1-2 PM (4th day covered)</li>
            </ul>
          </section>
          <section>
            <h2>Discussion format</h2>
            <ol>
              <li>Review and motivation</li>
              <li>Problems to illustrate major concepts (similar to hw problems)</li>
              <li>Your hw problem questions</li>
            </ol>
            <div class="fragment">
              <p>At times I will encourage you to solve problems in groups.</p>
            </div>
            <div class="fragment">
              <p>Requests welcome, e.g. if you're studying for the midterm and something isn't making sense, let me know and I'll make time for it.</p>
            </div>
            <p class="fragment"> I will post discussion notes after Monday's discussion. (No need to copy slides during discussion.)</p>
          </section>
        </section>

        <!-- slides-week1 -->
          <section>
            <section>
            <h1>Week 1 | 2017-01-09/10</h1>
            <div>
              <ul>
                <li>Control system representations</li>
                <li>Laplace transform</li>
                <li>Partial fractions</li>
              </ul>
            </section>
            <section>
            <h2>Motivation</h2>
              <ul>
                <li>Describe systems using mathematics</li>
                <li>Work in frequency domain:</li>
                <ul>
                  <li>Common operations become easier</li>
                  <li>Closer to intuitive block form</li>
                  <li>Transfer function: input/output relationship is <em>algebraic</em></li>
                </ul>
              </ul>
            <div class="fragment">
              <p><strong>Laplace transform</strong>: tool for going from time domain to frequency domain</p>
              $\mathcal{L}\{f(t)\} = F(s) = \int_{0^-}^\infty f(t)e^{-st}dt$
            </div>
            <div class="fragment">
              <p>Ex. if $f(t) = e^{-at}u_s(t)$, $F(s) = \frac{1}{s+a}$</p>
            </div>
            </section>
            <section>
              <table>
                <tr>
                  <th>Step</th>
                  <th>Tool</th>
                </tr>
                <tr>
                  <td>1. Express system using diff. eq.</td>
                  <td>Physics</td>
                </tr>
                <tr>
                  <td>2. Take $\mathcal{L}\{\cdot\}$</td>
                  <td>Transform table</td>
                </tr>
                <tr>
                  <td>3. Analyze</td>
                  <td>Algebra</td>
                </tr>
                <tr>
                  <td>4. Take $\mathcal{L}^{-1}\{\cdot\}$ to obtain time signal</td>
                  <td>Partial fractions, transform table</td>
                </tr>
              </table>
          </section>
          <section>
            <h2>Problems</h2>
            <ol>
              <li class="fragment">Given $F(s) = \frac{2}{(s+1)(s+2)}$, find $f(t)$.
              </li>
              <li class="fragment">Given $F(s) = \frac{1}{s^2 + 6s + 9}$, what is $f(t)$?
              </li>
              <li class="fragment">Given a system with input $u(t)$, output $y(t)$, and dynamics given by $$\frac{d^3y(t)}{dt} + 12\frac{d^2y(t)}{dt} + 32\frac{dy(t)}{dt} = 32u(t),$$ <p>a. Find the transfer function.</p><p>b. Solve for the output $y(t)$ given the input $u(t) = u_s(t)$.</p><p>Assume zero initial conditions.</p>
            </ol>
          </section>
        </section>

        <section>
            <section>
            <h1>Week 2 | 2017-01-17</h1>
            <div>
              <ul>
                <li>Control system representations for more complicated systems</li>
                <li>State-space <--> transfer function</li>
                <li>Block diagram reduction</li>
              </ul>
            </section>
          <section>
            <h2>Motivation</h2>
            <ul>
              <li>Often we have several states and multiple inputs or outputs.</li>
              <li>We also frequently encounter complex systems best expressed with block diagrams.</li>
            </ul>
            <p>We still want to be able to find transfer functions.</p>
            <p>Tools:</p>
            <ul>
              <li>State-space representation</li>
              <li>Block diagram reduction</li>
            </ul>
          </section>
          <section>
            <h2>From lecture</h2>
            <img src="images/lti_rep.png" width=800px>
        </section>
        <section>
          <h2>From lecture</h2>
          <img src="images/block_reduction.png" width=700px>
        </section>
          <section>
            <h2>Problem 1</h2>
              <p>Part A: find a state-space representation of the transfer function:</p>
                    <img src="images/d2tx.png" width=500px" style="border:none">
                  <p>Part B: find a state-space representation of the transfer function:</p>
                    <img src="images/d2tx2.png" width=500x" style="border:none">
          </section>
          <section>
            <h2>Problem 2</h2>
            <p>Go the other way: find the transfer function for the following state-space representation.</p>$$
\begin{align}
\begin{bmatrix}
\dot{x}_1 \\ \dot{x}_2 \\ \dot{x}_3
\end{bmatrix} &= \begin{bmatrix}
0 & 1 & 0 \\ 0 & 0 & 1 \\ -a_3 & -a_2 & -a_1
\end{bmatrix}\begin{bmatrix}
x_1 \\x_2 \\x_3
\end{bmatrix} + \begin{bmatrix}
0 \\ 0 \\ 1
\end{bmatrix}u \\
y &= \begin{bmatrix}
b_2 & b_1 & b_0
\end{bmatrix}\begin{bmatrix}
x_1 \\ x_2 \\ x_3
\end{bmatrix}
\end{align}
$$
          </section>
          <section>
            <h2>Problem 3</h2>
            <p>Reduce the block diagram and write its transfer function.</p>
            <img src="images/d2p3.png">
          </section>
        </section>

        <section>
            <section>
            <h1>Week 3 | 2017-01-23</h1>
            <div>
              <ul>
                <li>Signal flow graphs and Mason's gain formula</li>
                <li>Compare to block diagram reduction for finding transfer functions</li>
                <li>Linearization</li>
              </ul>
            </section>
          <section>
            <h2>Motivation</h2>
              <strong>Signal flow and Mason's gain formula</strong>
            <ul>
              <li>Block diagram reduction is messy, and when we want multiple transfer functions, we must reduce multiple times. Gross.</li>
              <li>A signal flow diagram encodes the same system information.</li>
              <li>Mason's gain formula allows us to read off reusable values and combine them to find multiple transfer functions efficiently. No more system rewriting!</li>
            </ul>
          </section>
          <section>
            <strong>Linearization</strong>
            <p>Linearization allows us to apply our powerful linear analysis tools to nonlinear systems locally. This is often enough to classify stability of equilibria, and even to design controllers.</p>
          </section>
          <section>
            <h2>Problem 1</h2>
              <p>Find the transfer function $\frac{E(s)}{U(s)}$.</p>
                    <img src="images/d3/p1.png" width=800px" style="border:none">
          </section>
          <section>
            <h2>Problem 2</h2>
            <h3>Part A</h3> 
            <p>Use block diagram reduction to find the transfer function $\frac{Y(s)}{U(s)}$.</p>
            <img src="images/d3/p2.png" width=800px style="border:none">
          </section>
          <section> <p>Step 1</p><img src="images/d3/p2s1.png" width=800px style="border:none"></section>
            <section><p>Step 2</p><img src="images/d3/p2s2.png" width=800px style="border:none"></section>
            <section><p>Step 3</p><img src="images/d3/p2s3.png" width=800px style="border:none"></section>
            <section><p>Step 4</p><img src="images/d3/p2s4.png" width=800px style="border:none"></section>
            <section><p>Step 5</p><img src="images/d3/p2s5.png" width=800px style="border:none"></section>
            <section><p>Step 6</p><img src="images/d3/p2s6.png" width=800px style="border:none"></section>
            <section>
              <h3>Part B</h3>
              Find the same transfer function using Mason's gain formula.
            </section>
            <section><img src="images/d3/p2b.png" width=800px style="border:none"></section>
          <section>
            <h2>Problem 3</h2>
            <p>Consider the following nonlinear circuit:</p>
            <img src="images/d3/p3.png" width=600px style="border:none; float:right">
            <p>Voltage across the nonlinear resistor is related to current as follows:
\begin{align*}
i(t) &= 2e^{0.1V_R(t)}.
\end{align*} Find the differential equation modeling the circuit, then linearize any nonlinear terms. Assume a nominal input of $V_N(t) = 0$.</p>
          </section>
        </section>

        <section>
            <section>
            <h1>Week 4 | 2017-01-30/31</h1>
            <div>
              <ul>
                <li>BIBO stability</li>
                <li>Linearization</li>
                <li>Steady-state error</li>
              </ul>
            </section>
          <section>
            <h2>Motivation</h2>
            <ul>
              <li>Stability is a key feature of control systems</li>
            <ul>
              <li>Assess in frequency domain -- no need to try various inputs or simulate time domain behavior</li>
            </ul>
            <li>Another linearization example to drive home the process. Make sure you're comfortable with linearization.</li>
            <li>Steady-state error: how well will our control systems track various inputs?</li>
            </ul>
          </section>
          <section>
            <h2>Problem 1</h2>
             Determine stability of the following closed-loop systems. If given, $M(s)$ is the closed-loop transfer function.

             <h2>Part A</h3>
            $$M(s) = \frac{3}{s(s+1)(s+2)}$$
          </section>
          <section>
             <h2>Part B</h3>
             <img src="images/d4p1d.png" width=500px, style="border:none">
             <p>where $G_1(s) = \frac{7}{2s+1}$.</p>
          </section>
          <section>
             <h2>Part C</h3>
             <img src="images/d4p1e.png" width=500px, style="border:none">
              where $G_2(s) = \frac{7K}{2s+1}$ (answer should be in terms of $K$).
          </section>

          <section>
            <h2>Problem 2</h2>
Consider the system modeled by the following differential equation:
\begin{align*}
\frac{d^2\theta}{dt^2} + K\frac{d\theta}{dt} + \cos \theta &= u(t)
\end{align*}
The applied input is $u(t)$, the output is $\theta$, and we are interested in changes around the nominal input value $u_N = 0$.

<h3>Part A</h3>
<p>Linearize the system to obtain a small-signal state-space model.</p>
          </section>
          <section>
            <h3>Part B</h3>
            <p>Find the transfer function of the linearized state-space model.</p>
          </section>
          <section>
            <h3>Part C</h3>
            <p>Comment on the stability of $G(s)$ from Part B.</p>
          </section>
          <section>
            <h3>Part D</h3>
            <p>Now comment on the stability of the closed-loop system below, where $G(s)$ is the transfer function computed in Part B.</p>

             <img src="images/d4p2.png" width=500px, style="border:none">
          </section>

          <section>
            <h2>Problem 3</h2>
            <p>Consider a unity-feedback system with forward path transfer function $G(s) = \frac{1}{s(s+2)}$ Find the steady-state error for step, ramp, and parabolic inputs.</p>
        </section>
        </section>

        <section>
          <section>
            <h1>Week 5 | 2017-02-06/07</h1>
            <div>
              <p>Second-order systems (GK section 5-6)</p>
              <ul>
                <li>Prediction of qualitative responses</li>
                <li>Designing to meet specs</li>
              </ul>
              <ul class="fragment">
                <li>Previously looked at steady-state response ($t\to\infty$).</li>
                <li>Now looking at transient response ($t$ near 0).</li>
              </ul>
            </section>
            <section>
              <img src="images/time.jpg" style="border:none">
            </section>
            <section>
              <h2 style="float:left">Second-order system</h2>
              <img src="images/second-order.jpg" width=400px style="padding:none; border: none; float: right">
              <p style="float:left">
              \begin{align}
              \frac{Y(s)}{R(s)} &= \frac{\omega_n^2}{s^2 + 2\zeta\omega_ns + \omega_n^2}
              \end{align}</p>
              <p class="fragment" style="float:left">Step response:
              $$ y(t) = 1 - \frac{e^{-\zeta\omega_nt}}{\sqrt{1 - \zeta^2}}\sin\left(\omega_n\sqrt{1-\zeta^2}t + \arccos\zeta\right),~t\geq 0 $$
              </p>
              <p class="fragment" style="float:left">Poles:
              \begin{align}
              s_1,s_2 &= -\zeta\omega_n\pm j\omega_n\sqrt{1 - \zeta^2} = -\alpha \pm j\omega
              \end{align}</p>
              <div style="clear:both"></div>
            </section>
            <section>
              <p>Poles:
              \begin{align}
              s_1,s_2 &= -\alpha \pm j\omega \\
              \alpha &= \zeta\omega_n \\
              \omega &= \omega_n\sqrt{1-\zeta^2}
              \end{align}
              </p>
              <ul>
                <li>$\alpha$ is the <i>damping factor</i></li>
                <li>$\zeta$ is the <i>damping ratio</i></li>
                <li>$\omega_n$ is the <i>undamped natural frequency</i></li>
                <li>$\omega$ is the <i>damped frequency</i></li>
              </ul>
              </section>
              <section>
                <img src="images/sensitivity.jpg" width=700px style="border:none">
              </section>
              <section>
                <h2>Overshoot and peak time</h2>
                <p>From GK Section 5-6-3, percent maximum overshoot is
                $$ 100e^{-\pi\zeta/\sqrt{1-\zeta^2}} $$
              </p>
              <p>Peak time is
                $$ t_\text{max} = \frac{\pi}{\omega_n\sqrt{1-\zeta^2}} $$
              </p>
              </section>
              <section>
                <h2>Addition of poles and zeros</h2>
                <p>Read GK Section 5-9! Also good to play with systems in MATLAB.</p>
              </section>
              <section>
                <h1>Problems</h1>
                <h2>Problem 1</h2>
                <p>Consider the following mechanical system:</p>
                <img src="images/d5p1.png" width=400px style="border:none">
                <p>where $x(t)$ is displacement (and also output), $f(t)$ is the applied input with nominal $f_N = 10N$, and the nonlinear spring applies a force $f_s(t) = 2x_s^2(t)$.</p>
              </section>
              <section>
                <h3>Part A</h3>
Find the linearized state-space representation of the system. Assume that you are concerned with small changes around the equilibrium point.
<div class="fragment">
                <h3>Part B</h3>
Find $\bar{G}(s) = \frac{\Delta Y(s)}{\Delta U(s)}$, the transfer function of the linearized system.
</div>
<div class="fragment">
                <h3>Part C</h3>
Comment on the stability of the linearized system.
</div>
<div class="fragment">
                <h3>Part D</h3>
Qualitatively predict the step response of this system.
</div>
              </section>
              <section>
                <h3>Part E</h3>
Now suppose we have a design requirement: overshoot of the step response cannot exceed 5\%. Determine values of $D$ that satisfy this requirement (if any).
<div class="fragment">
                <h3>Part F</h3>
While satisfying the constraint in part (e), is it possible to also achieve a peak time $T_p \leq 2$ seconds? If so, find the values of $D$ that meet both requirements.
</div>
<div class="fragment">
                <h3>Part G</h3>
Given these constraints, what type of step response will we see? Revise your predicted qualitative step response.
</div>
              </section>

              <section>
                <h2>Problem 2</h2>
Suppose $D = 4.2$ in the Problem 1 system, and the transfer function is
$$ \bar{G} = \frac{\Delta Y(s)}{\Delta U(s)} = \frac{1}{s^2 + Ds + 4\sqrt{5}} $$
(the constant gain is gone now).
<h3>Part A</h3>
Suppose a zero is added at $s=-\frac{1}{a}$, so the transfer function becomes $\bar{G}(1+as)$. Qualitatively describe the change in step response we should see. Validate this using MATLAB.
              </section>
              <section>
<h3>Part B</h3>
Suppose instead a pole is added at $s=-1/\tau$, so the transfer function becomes $\frac{\bar{G}(s)}{\tau s + 1}$. Again describe the change in step response you expect, and verify with MATLAB.
          </section>
        </section>

        <section>
          <section>
            <h1>Week 6 | 2017-02-13/14</h1>
            <div>
              <ul>
                <li>Stability via Routh-Hurwitz</li>
                <li>Stability via Kharitanov's Theorem</li>
                <li>Oscillation</li>
              </ul>
            </section>
            <section>
              <h2>Routh-Hurwitz</h2>
              <ul>
                <li>GK 2-13 on page 78, lecture 14, handout 7</li>
                <li>Stability properties without root finding</li>
                <li>Just a table and computations similar to 2x2 determinants</li>
              </ul>
            </section>
            <section>
              <img src="images/d6f1.png" width=90% style="border:none">
            </section>

            <section>
              <h2>Kharitanov's Theorem</h2>
              <ul>
                <li>Lecture 15</li>
              <li>Stability properties for family of devices</li>
              <li>Robustness to coefficient variation</li>
              <li>Four Routh tables provides strong conclusion for infinitely many systems</li>
              </ul>
            </section>
            <section>
              <img src="images/d6f2.png" width=90% style="border:none">
            </section>

            <section>
              <h1>Problems</h1>
              <h2>Problem 1</h2>
              <h3>Part A</h3>
              <p>Assess the stability of a system with the following transfer function:</p>
$$ G(s) = \frac{s+1}{s^2 + 4s + 1} $$
            </section>
            <section>
              <h3>Part B</h3>
              <p>Now suppose we connect the Part A system in series with a gain $K$, and introduce unity feedback.</p>
               <img src="images/d6p1.png" width=500px style="border:none">
               <p>Use Routh-Hurwitz to give a range of $K$ for which the closed-loop system is stable.</p>
               <div class="fragment">
              <h3>Part C</h3>
              <p>Suppose $K=-4$. Comment on the stability of the system.</p>
               </div>
            </section>
            <section>
              <h3>Part D</h3>
              <p>Suppose we don't know $K$ exactly, but we know it will lie somewhere in the range $[-2,5]$. Use Kharitanov's Theorem to show that the system will not be stable for every $K$ in this range.</p>
            </section>

            <section>
              <h2>Problem 2</h2>
              <p>Suppose you have eight similar devices in your system with slightly different transfer functions. You know the eight characteristic polynomials for these devices:</p>
\begin{align*}
s^3 + 18s^2 + 2s + 2 & \qquad
s^3 + 18s^2 + 3s + 6 \\
s^3 + 18s^2 + 2s + 3 &\qquad
s^3 + 16s^2 + 2s + 4 \\
s^3 + 18s^2 + 1s + 8 &\qquad
s^3 + 20s^2 + 3s + 4 \\
s^3 + 16s^2 + 3s + 5 &\qquad
s^3 + 18s^2 + 2s + 3
\end{align*}
<p>You also know that the overall system will be stable if and only if all eight components are stable. Will the system be stable?</p>
            </section>

            <section>
              <h2>Problem 3</h2>
              <p>Consider the following transfer function of a feedback control system. Assume $K>0$.</p>
$$ G(s) = \frac{K(s+3)}{s^4 + 7s^3 + 14s^2 + (8+K)s + 3K} $$
<div class="fragment">
              <h3>Part A</h3>
              <p>Determine the range of $K$ so that the system is asymptotically stable.</p>
</div>
            </section>
            <section>
              <h3>Part B</h3>
              <p>Determine the value of $K$ that renders the system marginally stable, and determine the frequency of oscillation, if applicable.</p>
            </section>
        </section>

        <section>
          <section>
            <h1>Week 7 | 2017-02-20/21</h1>
            <p>Double office hour: Tuesday 2-4 PM at EECS 2420</p>
            <div>
              <ul>
                <li>Root locus criteria</li>
                <li>Review of signal flow diagrams, FVT, and second-order prototype response</li>
                <li>Your questions</li>
              </ul>
              <div class="fragment">
              <p>Study hint: be proficient at things we've done several times.</p>
              <ul>
              <li>Differential equations to transfer functions to state-space (and back)</li>
              <li>Linearization</li>
              </ul>
              </div>
            </section>

            <section>
              <h1>Problems</h1>
              <h2>Problem 1</h2>
              <p>Consider the block diagram below, where $K$ is a tunable gain. Is there a value of $K$ for which $s_1 = -4 + j2$ is a pole of the closed-loop system? If so, what is that value of $K$?</p>
              <img src="images/d7f1.png" style="border:none" width=600px>
        </section>
        <section>
              <h2>Problem 2</h2>
              <p>Consider the block diagram shown below.</p>
              <img src="images/d7f3.png" style="border:none" width=700px>
              <h3>Part A</h3>
              <p>Find the transfer function $\frac{C(s)}{R(s)}$. You can use any method you like.</p>
        </section>
        <section>
              <h3>Part B</h3>
              <p>Assume that the signal labeled $A(s)$  is known. Find $C(s)$.</p>
              <div class="fragment">
              <h3>Part C</h3>
              <p>Assume $G(s) = K_f>0$.</p>
              <ol>
              <li>Give conditions on $K_f$ and $K$ such that the overall closed-loop system is stable.</li>
              <li>When $R(s)$ is a unit step function, what is the steady-state value of $C(s)$ (i.e. $\lim_{t\to\infty}c(t)$)? Explain the qualitative effect of $K_f$ on this steady-state value.</li>
              <li>Explain why the extra branch with $G(s) = K_f$ might have been put into the system (hint: consider the qualitative effect of $K_f$ on the overall transfer function).</li>
              </ol>
              </div>
        </section>
        <section>
              <h3>Part D</h3>
              <p>Now assume $G(s) = 0$ and $K>0$.</p>
              <ol>
              <li>Provide conditions for $K$ that yield underdamped, critically damped, and overdamped responses.</li>
              <li>For what value of $K$ will the real parts of the poles be -0.25? Find the corresponding imaginary parts of the poles.</li>
              <li>What will the rise time and 5% settling time be for the value of $K$ you computed above?</li>
              <li>Use your computations to sketch the step response.</li>
              </ol>
        </section>
        </section>

        <section>
          <section>
            <h1>Week 8 | 2017-03-06/07</h1>
              <ul>
                <li>Exam review</li>
                <li>Root locus</li>
              </ul>
          </section>
          <section>
              <img src="images/d8slide1.png" style="border:none" width=800px>
          </section>
          <section>
              <img src="images/d8slide2.png" style="border:none" width=800px>
          </section>

          <section>
              <h1>Problems</h1>
              <h2>Problem 1</h2>
              <h3>Part A</h3>
              <p>Sketch the root locus for the system below.</p>
              <img src="images/d8f1.png" style="border:none" width=600px>
              <div class="fragment">
              <h3>Part B</h3>
              <p>Verify your root locus sketch with MATLAB.</p>
              </div>
          </section>
          <section>
            <h2>Problem 2</h2>
              <h3>Part A</h3>
            <p>Sketch the standard root locus for the system shown below.</p>
              <img src="images/d8f4.png" style="border:none" width=600px>

              <div class="fragment">
              <h3>Part B</h3>
              <p>For what (positive) values of $K$ is the closed-loop system stable?</p>
              </div>
          </section>
        </section>

        <section>
          <section>
            <h1>Week 9 | 2017-03-13/14</h1>
              <ul>
                <li>Lead compensator design</li>
                <li>PD controller design</li>
                <li>Sensor delay effects</li>
              </ul>
          </section>

          <section>
            <h2>Lead compensator design</h2>
            <p>Add positive phase to the system, shifting root locus left.</p>
              <img src="images/d9f1.png" style="border:none" width=700px>
          </section>
          <section>
            <h3>Angle of deficiency</h3>
              <p>Phase needed to cause a chosen point to satisfy angle criterion.</p>
              $$ \phi = -180^\circ - \sum_i \angle(s + z_i) + \sum_j \angle (s + p_j) $$
          </section>
          <section>
            <h3>Bisection method</h3>
            <p>Many ways to place the pole and zero of a lead compensator. Bisection tends to work well.</p>
              <img src="images/d9f2.png" style="border:none" width=650px>
              <img src="images/d9f3.png" style="border:none" width=250px>
          </section>
          <section>
            <h2>PD controller design</h2>
            <p>Add only a zero: speed response, increase overshoot</p>
             $$ G_c(s) = K_c(s+z) $$
             <p>Useful heuristic, analogous to bisection:</p>
            $$ z = d_R + \frac{d_I}{\tan \phi} $$
            <p>For lead compensator and PD controller, try to keep $K$ low. Less amplification typically means cheaper parts.</p>
          </section>

          <section>
            <h2>Sensor delay effects</h2>
            <p>Actual transfer function:</p>
            $$ e^{-sT}, $$
            <p>where $T$ is delay in seconds.</p>

            <p>All-pass approximation (always has magnitude 1):</p>
            $$ e^{-sT} \approx  \frac{\left(\frac{2n}{T} - s\right)^n}{\left(\frac{2n}{T} + s\right)^n} $$
            <p>Sensor delay can push the system towards instability.</p>
            <p>How much should you spend on your sensor?</p>
          </section>
          <section>
            <h1>Problems</h1>
            <h2>Problem 1</h2>
            <p>Consider the system shown below.</p>

              <img src="images/d9f1-.png" style="border:none" width=750px>
            <h3>Part A</h3>
            <p>Sketch the root locus ($K>0$) of the system.</p>
          </section>
          <section>
            <h3>Part B</h3>
            <p>Design a controller that causes overshoot to be no more than 10%, and 5% settling time to be no more than 2s.</p>
            <div class="fragment">
            <h3>Part C</h3>
            <p>Now try to meet the spec using a PD controller.</p>
            </div>
            <div class="fragment">
            <h3>Part D</h3>
            <p>How is performance affected if there is some sensor delay? Assume a second-order (all-pass) model and a delay of $T=0.2$s.</p>
            </div>
          </section>
          </section>

        <section>
          <section>
            <h1>Week 10 | 2017-03-20/21</h1>
              <ul>
                <li>Precompensator design</li>
                <li>Phase lag compensator design</li>
                <li>2-DoF design</li>
              </ul>
          </section>
          <section>
            <h2>Precompensator design</h2>
            <p>Introduce $K(s)$ immediately after input.</p>
            <ul>
            <li>To fix transient, use $K(s)$ to cancel zeros of $G_{cl}(s)$.</li>
            <li>To fix steady-state, calculate $e_{ss}$ and determine what $K(0)$ should be to reduce $e_{ss}$ according to spec.</li>
            <li>Transfer functions become:</li>
            </ul>
\begin{align*}
\frac{Y(s)}{R(s)} &= K(s)\frac{G(s)}{1 + G(s)} \\
\frac{E(s)}{R(s)} &= \frac{1 + G(s) - K(s)G(s)}{1 + G(s)}~,
\end{align*}
          </section>
          <section>
            <h2>Phase lag compensation</h2>
            <p>$$G_\text{lag}(s) = K\frac{s+z}{s+p},~p<z $$</p>

            <ul>
            <li>Draw root locus and check transient properties; fix with lead compensation if needed.</li>
            <li>Check $e_{ss}$. If too large, determine $z/p$ for lag compensator.</li>
            <li>Place $z$ and $p$ close to origin.</li>
            <li>Adjust $K$ to ensure dominant poles do not move much.</li>
            </ul>

          </section>
          <section>
            <h2>2-DoF design</h2>
            <p>We care about stability, steady-state error, and transient behavior. Adding a second degree of freedom lets us target multiple objectives.</p>
          </section>
          <section>
            <h1>Problems</h1>
            <h2>Problem 1</h2>
            <p>Consider the system shown below.</p>

              <img src="images/d10f1.png" style="border:none" width=850px>
            <h3>Part A</h3>
            <p>Roughly sketch the root locus ($K>0$) of the system.</p>
          </section>
          <section>
            <h3>Part B</h3>
            <p>Stabilize the system and include compensation so that $\zeta = 0.174$ (approx. 57% overshoot).</p>
            <h3>Part C</h3>
            <p>With the compensation designed in Part B, calculate the steady-state error to a step input.</p>
          </section>
          <section>
            <h3>Part D</h3>
            <p>Design a precompensator, $\bar{K}(s)$, to reduce the steady-state error to a step input by a factor of 10. See figure below.</p>
              <img src="images/d10f3.png" style="border:none" width=950px>
            <h3>Part E</h3>
            <p>Repeat Part D using a phase-lag controller. See figure below.</p>
              <img src="images/d10f4.png" style="border:none" width=950px>
          </section>
          <section>
            <h3>Part F</h3>
            <p>Verify your results in Parts D and E using MATLAB or Simulink.</p>
            <h3>Part G</h3>

            <p>Notice that the overshoot from Part E is greater than 40%. Design a precompensator $\tilde{K}(s)$ to reduce the overshoot by a factor of 10. See figure below. Verify your results with MATLAB or Simulink.</p>

              <img src="images/d10f5.png" style="border:none" width=950px>
        </section>
        </section>

        <section>
          <section>
            <h1>Week 11 | 2017-03-27/28</h1>
            <ul>
            <li>Lab time!</li>
            <li>PID controller design: cascaded PD and PI method</li>
            </ul>
          </section>
          <section>
            <h2>Lab</h2>
            <ul>
            <li>Homework 10 connected to lab: individual component</li>
            <li>Lab assignment asks you to complete a 2-DOF design</li>
            <li><a href="https://drive.google.com/open?id=1rRnjWcETwdIcfqNdRgihr2em_VU4hE-RPRkk6t4zbb0">Sign up in groups</a> for a lab session, choose one "best" design from your group before coming to lab.</li>
            <li>Soon you will levitate a magnetic ball and be the envy of all your Snapchat followers.</li>
            </ul>
          </section>
          <section>
            <img src="images/d11f1.jpg" style="border: none">
          </section>
          <section>
            <h2>PID controller design</h2>
            $$ G_{PID} = K_P + K_Ds + K_I/s $$
            <p>Two useful methods:</p>
            <ol>
            <li>Method of Root Contours (see Handout 14)</li>
            <li>Cascading PD and PI.
            <p>We can view this as a PD controller cascaded with a PI controller:</p>
             \begin{align*}
G_{PID}(s) &= K_P + K_Ds + K_I/s = (1 + \tilde{K}_Ds)(\tilde{K}_P + \tilde{K}_I/s) \\
\implies K_P &= \tilde{K}_P + \tilde{K}_D\tilde{K}_I \\
K_D &= \tilde{K}_D\tilde{K}_P \\
K_I &= \tilde{K}_I
\end{align*}
            </li>
            </ol>
          </section>
          <section>
            <h2>Design process</h2>
            <ol>
            <li>PD: "anticipatory" | Section 9-2. Place the zero of the PD controller to increase damping and reduce rise time, settling time, and overshoot.</li>
            <li>PI: "low-pass" | Section 9-3. Place the zero of the PI controller close to the origin and far from dominant poles to improve steady-state error and overshoot.</li>
            </ol>
          </section>
          <section>
            <h1>Problems</h1>
            <h2>Problem 1</h2>
            <p>Consider the third-order attitude control system with forward-path transfer function</p>
            $$ G_p(s) = \frac{2.718\times 10^9 }{s(s^2 + 3408.3s + 1,204,000)} = \frac{2.718\times 10^9}{s(s+400.26)(s+3008)} $$
            <p>Design a PID controller such that the closed-loop system meets the following specifications:</p>
            <ul>
            <li>Steady-state error due to a ramp input $\frac{1}{2}t^2u_s(t)\leq 0.2$.</li>
            <li>Maximum overshoot $\leq 5\%$.</li>
            <li>Rise time $t_r \leq 0.005s$.</li>
            <li>5% settling time $t_s \leq 0.005s$.</li>
            </ul>
          </section>
        </section>
      </div>
    </div>

    <script src="../lib/js/head.min.js"></script>
    <script src="../js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: false,
        slideNumber: true,
        progress: true,
        history: true,
        center: false,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        math: {
          mathjax: 'https://cdn.mathjax.org/mathjax/latest/MathJax.js',
          config: 'TeX-AMS_HTML-full'
        },

        // Optional reveal.js plugins
        dependencies: [
          { src: '../lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: '../plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '../plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '../plugin/math/math.js', async: true },
          { src: '../plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          //{ src: '../plugin/zoom-js/zoom.js', async: true },
          //{ src: '../plugin/notes/notes.js', async: true }
        ]
      });

    </script>

  </body>
</html>
